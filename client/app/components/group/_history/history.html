<div>
  <div ng-repeat="entry in $ctrl.data.results">
    <div ng-if="$first || $ctrl.data.results[$index-1].compareDate != entry.compareDate" class="date">
      {{ entry.date | date:'fullDate' }}
    </div>
    <div layout="row" ng-click="$ctrl.openHistoryDetail($event, entry)">
      <div flex class="time">
        {{ entry.date | date:'shortTime' }}
      </div>
      <div flex class="avatar s{{ entry.users.length }}">
        <div ng-repeat="id in entry.users"><profile-picture user-id="id" size="20"></profile-picture></div>
      </div>
      <div flex class="description">
        <span translate="{{ entry.translate }}" translate-values="{{ entry.payload }}"></span>
      </div>
    </div>
  </div>
  <md-button ng-click="$ctrl.loadMore()">
    Load more
  </md-button>
</div>
